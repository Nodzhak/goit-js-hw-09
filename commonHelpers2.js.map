{"version":3,"file":"commonHelpers2.js","sources":["../src/js/02-form.js"],"sourcesContent":["const feedbackForm = document.querySelector('.feedback-form');\nconst keyLocalStorage = 'feedback-form-state';\nconst email = document.querySelector('.feedback-input-email');\nconst message = document.querySelector('.message');\nconst inputEmail = feedbackForm.elements.email;\nconst textArea = feedbackForm.elements.message;\n\nfeedbackForm.addEventListener('input', debounce(getTextValue, 500));\nfeedbackForm.addEventListener('submit', submitedForm);\n\nlet dataForm = JSON.parse(localStorage.getItem(keyLocalStorage)) || {};\n\ninputEmail.value = dataForm.email || '';\ntextArea.value = dataForm.message || '';\n\nfunction getTextValue(event) {\n  dataForm = {\n    email: inputEmail.value,\n    message: textArea.value,\n  };\n  localStorage.setItem(keyLocalStorage, JSON.stringify(dataForm));\n  return dataForm;\n}\n\nfunction submitedForm(event) {\n  event.preventDefault();\n  const isFormValid = inputEmail.value.trim() !== '' && textArea.value.trim() !== '';\n\n  if (isFormValid) {\n    console.log(dataForm);\n    localStorage.removeItem(keyLocalStorage);\n    feedbackForm.reset();\n  } else {\n    alert('Це ще не все!');\n  }\n}\n\nfunction debounce(callee, timeoutMs) {\n  let lastCall;\n  let lastCallTimer;\n\n  return function perform(...args) {\n    if (lastCall && Date.now() - lastCall <= timeoutMs) {\n      clearTimeout(lastCallTimer);\n    }\n    lastCall = Date.now();\n    lastCallTimer = setTimeout(() => callee(...args), timeoutMs);\n  };\n}"],"names":["feedbackForm","keyLocalStorage","inputEmail","textArea","debounce","getTextValue","submitedForm","dataForm","event","callee","timeoutMs","lastCall","lastCallTimer","args"],"mappings":"oDAAA,MAAMA,EAAe,SAAS,cAAc,gBAAgB,EACtDC,EAAkB,sBACV,SAAS,cAAc,uBAAuB,EAC5C,SAAS,cAAc,UAAU,EACjD,MAAMC,EAAaF,EAAa,SAAS,MACnCG,EAAWH,EAAa,SAAS,QAEvCA,EAAa,iBAAiB,QAASI,EAASC,EAAc,GAAG,CAAC,EAClEL,EAAa,iBAAiB,SAAUM,CAAY,EAEpD,IAAIC,EAAW,KAAK,MAAM,aAAa,QAAQN,CAAe,CAAC,GAAK,GAEpEC,EAAW,MAAQK,EAAS,OAAS,GACrCJ,EAAS,MAAQI,EAAS,SAAW,GAErC,SAASF,EAAaG,EAAO,CAC3B,OAAAD,EAAW,CACT,MAAOL,EAAW,MAClB,QAASC,EAAS,KACtB,EACE,aAAa,QAAQF,EAAiB,KAAK,UAAUM,CAAQ,CAAC,EACvDA,CACT,CAEA,SAASD,EAAaE,EAAO,CAC3BA,EAAM,eAAc,EACAN,EAAW,MAAM,KAAM,IAAK,IAAMC,EAAS,MAAM,KAAM,IAAK,IAG9E,QAAQ,IAAII,CAAQ,EACpB,aAAa,WAAWN,CAAe,EACvCD,EAAa,MAAK,GAElB,MAAM,eAAe,CAEzB,CAEA,SAASI,EAASK,EAAQC,EAAW,CACnC,IAAIC,EACAC,EAEJ,OAAO,YAAoBC,EAAM,CAC3BF,GAAY,KAAK,IAAG,EAAKA,GAAYD,GACvC,aAAaE,CAAa,EAE5BD,EAAW,KAAK,MAChBC,EAAgB,WAAW,IAAMH,EAAO,GAAGI,CAAI,EAAGH,CAAS,CAC/D,CACA"}